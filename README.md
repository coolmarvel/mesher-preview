# 프로젝트 개요

이 프로젝트는 Uniswap V2 프로토콜을 사용하여 특정 토큰의 유동성을 관리하는 스마트 컨트랙트의 개발을 목표로 합니다.  
개발 기간은 2024년 2월 24일 오전 10시부터 2월 26일 오전 10시까지로 설정했습니다.

## 요구사항 분석 및 기술 학습

### 요구사항 분석

Uniswap V2 플랫폼을 이해하고, 스마트 컨트랙트를 통해 토큰의 유동성 관리 기능을 구현하는 것이 주요 목표입니다.  
MAT와 MBT 토큰 간의 유동성 풀을 생성하고 관리하는 기능이 필요합니다.

### 기술 학습

Uniswap V2의 핵심 개념과 메커니즘에 대한 학습이 필요했습니다.  
이를 통해 유동성 풀, 라우터, 팩토리 등의 개념을 이해하고, 이들이 어떻게 상호 작용하는지 파악했습니다.  
Solidity와 스마트 컨트랙트 개발에 필요한 다양한 도구와 라이브러리에 대한 학습도 진행했습니다.

#### 필요 기술 스택

- 팩토리(Factory): 모든 풀과 각 풀에 대한 정보를 생성하고 관리하는 컨트랙트입니다.
- 라우터(Router): 토큰 교환, 유동성 추가 및 제거 등의 기능을 제공하는 컨트랙트입니다.
- 페어(Pair): 두 토큰 간의 유동성 풀을 나타내며, 이를 통해 토큰 교환 비율이 결정됩니다.

Uniswap V2에서는 풀을 통해 토큰을 교환하고, 유동성을 제공하여 LP 토큰을 받게 됩니다.  
이러한 LP 토큰은 풀에 대한 사용자의 기여도를 나타내며, 유동성 제공자는 수수료 수익을 얻을 수 있습니다.

## 설계 및 개발

전체 프로젝트의 구조를 설계하고 각 기능별 구현 방법에 대해 기획했습니다.  
이 과정에서 스마트 컨트랙트의 기능, 인터페이스, 그리고 사용자와의 상호작용 방식을 고려했습니다.

- MAT, MBT ERC20 토큰 컨트랙트를 활용해 페어를 생성해 유동성 관리
- Helper 컨트랙트를 활용해 유동성 예치 및 LP 토큰 수령

1. 유니스왑 V2의 개념 이해
2. 스마트 컨트랙트 설계 및 개발
3. 테스트 및 디버깅

## 우선 순위

1. 스마트 컨트랙트 기능 구현  
   과제에서 요구하는 사항에 대해 구현하는 것이 가장 첫 번째로 우선해서 진행하였습니다.
2. 테스트 및 디버깅
   Remix 및 Hardhat을 통해 테스트 및 디버깅을 진행하였습니다.
3. 보안 및 최적화
   컨트랙트의 안전성과 비용에 대한 코드 리팩토링을 진행하였습니다.
4. 문서화 및 검토
   과제에 대한 문서를 작성하고, 코드 검토를 진행하였습니다.

## 코드 설명

`Helper.sol`은 토큰 페어의 유동성을 관리할 수 있는 업그레이드 가능한 스마트 컨트랙트입니다.  
주요 기능은 다음과 같습니다.

- `getPair`, `createPair`: Uniswap V2 Factory를 사용하여 토큰 페어를 조회하고 생성합니다,
- `getTokenReserves`: 특정 페어의 유동성 풀 내 잔고를 조회합니다.
- `provideLiquidity`: 유저가 토큰을 제공하여 유동성 풀에 참여할 수 있게 합니다.
- `singleTokenAddLiquidity`: 단일 토큰으로 유동성을 추가하는 기능을 제공합니다.  
  이 과정에서 토큰이 또 다른 토큰으로 스왑되어 유동성 풀에 추가됩니다.
- `searchLpTokenBalance`: 특정 주소의 LP 토큰 잔액을 조회합니다.

## 작업물에 대한 회고

이번 프로젝트를 통해 부족함을 많이 느끼면서, 한편으로는 uniswap v2 프로토콜을 활용하면서 컨트랙트 개발에 대해 더 지식을 넓힐 수 있어서 좋았습니다.
유동성에 대한 개념과 복잡한 논리를 학습하면서 문뜩 현재까지 구현된 수많은 인기 있는 Dapp들에 다시 한번 큰 존경심을 느끼기도 하였습니다.
또한 테스트를 진행하면서 다양한 시나리오를 작성하고, 요구사항을 충족시키는 부분에서 많은 시행착오를 겪으며 개발을 할 때 즐거웠습니다.

모든 요구사항을 충족시키고 흡족하지 못할 부분이 있다 사료되지만, 전반적으로 이번 과제를 통해 블록체인 및 스마트 컨트랙트 개발에 대한
제 역량을 기르는데 큰 도움이 되었다고 생각합니다.
